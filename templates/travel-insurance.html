<!DOCTYPE html>
<html>
  <head>
    {% load static %} {% include "partials/_head.html" with add_title="Travel Insurance | Prelate Travels & Tours" %}
    <link rel="stylesheet" href="{% static 'stylesheets/select2.min.css' %}" />
  </head>
  <body>
    {% include "partials/components/_header.html" %}
    <section class="visa-assist-form flex-center-content">
      <div class="container">
        <div class="row">
          <div class="offset-2 col-8">
            <div class="mb-4 text-center">
              <div>
                <h3 class="visa-assist-form-heading mb-4 text-center">
                  Travel Insurance
                </h3>
                <p class="visa-assist-form-body mb-4">
                  Travelling for business or pleasure? Buy our general travel insurance, get your certificate and enjoy peace of mind.
                </p>
              </div>
            </div>

            <form onsubmit="event.preventDefault(); submitTravelInsurance()" class="generic-form submit-travel-insurance-form">
              <div class="generic-form--header">Get Insured</div>
              <div class="generic-form--body">
                <div class="form-group">
                  <label for="">Country of Origin</label>
                  <select required id="origin" class="form-control select-country">
                    <option value="">--Select Country--</option>
                    {% for country in countries %}
                    <option value="{{ country.country_name }}">{{ country.country_name }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="form-group">
                  <label for="">Country of Destination</label>
                  <select required id="destination" class="form-control select-country">
                    <option value="">--Select Country--</option>
                    {% for country in countries %}
                    <option value="{{ country.country_name }}">{{ country.country_name }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="form-group">
                  <label for="">Full Name</label>
                  <input required id="name" type="text" class="form-control" placeholder="Full Name" />
                </div>
                <div class="form-group">
                  <label for="">Date of Birth</label>
                  <input required id="dob" type="date" class="form-control" placeholder="Date of Birth" />
                </div>
                <div class="form-group">
                  <label for="">Phone Number</label>
                  <input required id="phoneNumber" type="tel" class="form-control" placeholder="Phone number" />
                </div>
                <div class="form-group">
                  <label for="">Email</label>
                  <input required id="email" type="email" class="form-control" placeholder="Email" />
                </div>
                <div class="form-group">
                  <label for="">Address</label>
                  <textarea required id="address" class="form-control" placeholder="Address"></textarea>
                </div>

                <div class="form-group mb-4">
                  <label for="">Type of Insurance</label>
                  <div class="row">
                    <div class="col-12">
                      <input required id="insuranceType" type="text" class="form-control" placeholder="Type of insurance" />
                    </div>
                  </div>
                </div>
                <div class="form-group mt-2">
                  <button type="submit" class="btn btn-primary d-block w-100">
                    Submit Form
                  </button>
                </div>
              </div>
            </form>
            <!--Submit Successful-->
            <form class="generic-form submit-travel-insurance-response">
              <div class="generic-form--header">Get Insured</div>
              <div class="generic-form--body">
                <p>Your Travel Insurance Application has been successfully submitted</p>
              </div>
            </form>
            <!--End Submit-->
          </div>
        </div>
      </div>
    </section>
    {% include 'partials/components/_partners.html' %} {% include 'partials/components/_download.html' %} {% include 'partials/components/_footer.html' %}
    <br />
    {% include 'partials/_bottom.html' %}
    <script src="{% static 'javascripts/select2.full.min.js' %}"></script>
    <script>
      $(function () {
        $(".select-country").select2();
      });
    </script>
    <script>
      $(".submit-travel-insurance-response").toggle();

      function submitTravelInsurance() {
        $(".submit-travel-insurance-form").toggle();
        $(".submit-travel-insurance-response").toggle();

        const body = {
          origin: $(".submit-travel-insurance-form #origin").children("option:selected").val(),
          destination: $(".submit-travel-insurance-form #destination").children("option:selected").val(),
          name: $(".submit-travel-insurance-form #name").val(),
          dob: $(".submit-travel-insurance-form #dob").val(),
          phoneNumber: $(".submit-travel-insurance-form #phoneNumber").val(),
          email: $(".submit-travel-insurance-form #email").val(),
          address: $(".submit-travel-insurance-form #address").val(),
          insuranceType: $(".submit-travel-insurance-form #insuranceType").val(),
        };

        $.post("", body, function (data) {
          console.log(data);
        });
      }
    </script>
  </body>
</html>
