<!DOCTYPE html>
<html>
  {% load static %}
  {% load widget_tweaks %}
  <head>{% include "latest/partials/_head.html" with add_title="Book A Consultation | Prelate Travels & Tours" %}</head>
  <body>
    {% include "latest/components/_header.html" %}
    <!-- CAROUSEL SECTION MOBILE -->
    {% include "latest/components/_mobile_carousel.html" %}
    <!-- CAROUSEL SECTION MOBILE END-->
    <section class="consultation-hero-bg bg-center bg-no-repeat h-[40vh] bg-cover tablet:h-[30vh] tablet:bg-right">
      <div class="flex items-end h-full">
        <div class="h-[70%] flex items-end gradient-blue w-full mobile:h-2/4">
          <div class="w-4/5 mx-auto mobile:w-full mobile:px-5">
            <h2 class="page-title">Talk To An Expert</h2>
          </div>
        </div>
      </div>
    </section>
    <!-- HERO SECTION DESKTOP -->
    <!-- Travel insurance form -->
    <section class="container__inner_layout  text-textPrimary text-justify text-sm leading-7 tablet:text-xs tablet:leading-6">
      <div class="my-10 mobile:mt-5 mobile:mb-6">
        <p>
          A microcopy about this page. Lorem ipsum dolor sit amet consectetur adipisicing elit. Doloribus incidunt sequi modi voluptas quae cupiditate inventore harum voluptatem voluptate eos!
        </p>
        <div class="mt-20 tablet:mt-6">
          <div class="form-title">Book A Consultation Session</div>
          <form class="text-primary w-full pt-10 tablet:pt-6"
                method="POST"
                action="{% url 'book-consultation' %}">
            {% csrf_token %}
            <div class="flex flex-col mb-5">
              <label for="" class="input-label">Full Name</label>
              {% render_field form.fullname class="input-style" placeholder="----------" %}
            </div>
            <div class="flex flex-col mb-5">
              <label for="" class="input-label">Phone Number</label>
              {% render_field form.phonenumber class="input-style" placeholder="----------" %}
            </div>
            <div class="flex flex-col mb-5">
              <label for="" class="input-label">Email</label>
              {% render_field form.email class="input-style" placeholder="----------" type="email" %}
            </div>
            <div class="flex flex-col mb-5">
              <label for="" class="input-label">Choose Date Of Appointment</label>
              <div class="relative w-full">
                <div class="calendar">
                  <img src="{% static 'images/calendar-icon.png' %}" class="h-4">
                </div>
                {% render_field form.session_date class="input-style w-full" id="session_date" placeholder="mm/dd/yyyy" datepicker="true" datepicker-autohide="true" datepicker-autohide="true" %}
              </div>
            </div>
            <div class="flex flex-col mb-5">
              <label for="" class="input-label">Choose Time Of Appointment</label>
              {% render_field form.session_time  class="input-style w-full" id="session_time" value="12:00" type="time" %}
              <span id="session_time_error" class="text-red-500 block"></span>
            </div>
            <button class="submit-btn">Submit Form</button>
          </form>
        </div>
      </div>
    </section>
    {% include 'latest/components/_footer.html' %}
    {% comment %} INPUT VALIDATION {% endcomment %}
    <script>
      const timePicker = document.getElementById("session_time");
      const timePickerErrorEl = document.getElementById("session_time_error");
      timePicker.addEventListener("change", ({target})=> {
        console.log(target.value)
        if (target.value < "08:00" || target.value > "17:00") {
          errorText.textContent = "Office opening hours are 08:00 AM to 5:00 PM";
          timeInput.value = "12:00"; // Reset the input
        } else errorText.textContent = ""; 
      })
    </script>
    {% comment %} CUSTOM NOTIFICATION {% endcomment %}
    <script src="{% static 'javascripts/datepicker.js' %}"></script>
    {% include 'latest/partials/_scripts.html' %}
  </body>
</html>
